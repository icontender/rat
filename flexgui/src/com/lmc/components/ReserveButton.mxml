<?xml version="1.0" encoding="utf-8"?>
<mx:Button xmlns:mx="http://www.adobe.com/2006/mxml" creationComplete="init()" height="20" width="50" click="clickEvent()">
	<mx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			import com.racemi.qa.events.*;
			private var slotid:String;
			private var slotname:String;
			private var resStatus:String;
			private var instance:String;
			private var description:String;
			private var tempBGColor:Number;
			private function init():void{
		
			
			 // Get the initial background color. 
      		 
      		 
       		 
             
             setStyle("borderStyle", "none"); 
             tempBGColor = getStyle("fillColors"); 
           
  
  		}
     
         
			 // Override the set method for the data property. 
         override public function set data(value:Object):void { 
             super.data = value; 
             // Since the item renderer can be recycled,  
             // set the initial background color. 
             
             setStyle("fillColors", tempBGColor); 
         
             if (value != null) 
             { 
                 slotid = value.slotid;
                 slotname = value.name;
                 resStatus = value.assigned;
                 instance = value.instance;
                 description = value.description;
                 
                 if(resStatus == "true" ) {
                    setStyle("fillColors", [0xFF0000,0xFF0000]);
                    this.label = "Reserved" 
                 }
                 else if (resStatus == "false"){
                 	setStyle("fillColors", [0x66CD00, 0x66CD00]); 
                 	this.label = "Available"
                 }	
                
             } 
  
             else 
             { 
                 // If value is null, clear text. 
                 resStatus = ""; 
             } 
  
           // Dispatch the dataChange event
				dispatchEvent(new FlexEvent(FlexEvent.DATA_CHANGE));
         } 
				
			private function clickEvent():void{
				// send true/false to determin which reservation panel to popup
				dispatchEvent(new CreateReservationEvent(this.slotid,this.slotname, this.resStatus, this.description,this.instance));
				
			}
		
			
			
		]]>
	</mx:Script>
</mx:Button>
